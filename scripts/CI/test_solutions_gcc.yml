---

build:gcc:
  extends: .build
  script:
    - ./scripts/build.sh --cc gcc
  artifacts:
    paths:
      - ./*/*/lava-gcc
    expire_in: 1 year

test_solutions:2:14:gcc:
  variables:
    COMP_ID: "2"
    PREFIX: "lava-gcc"
  extends: .test_solutions
  dependencies:
    - build:gcc
  only:
    - master
    - dev

test_solutions:3:14:gcc:
  variables:
    COMP_ID: "3"
    PREFIX: "lava-gcc"
  extends: .test_solutions
  dependencies:
    - build:gcc
  only:
    - master
    - dev

test_solutions:4:14:gcc:
  variables:
    COMP_ID: "4"
    PREFIX: "lava-gcc"
  extends: .test_solutions
  dependencies:
    - build:gcc
  only:
    - master
    - dev

test_solutions:5:14:gcc:
  variables:
    COMP_ID: "5"
    PREFIX: "lava-gcc"
  extends: .test_solutions
  dependencies:
    - build:gcc
  only:
    - master
    - dev

test_solutions:6:14:gcc:
  variables:
    COMP_ID: "6"
    PREFIX: "lava-gcc"
  extends: .test_solutions
  script:
    - tar -C 6 -xzf 6/solutions.tgz
    - (cd 6 && ./patch_solutions.sh )
    - ./scripts/test-solution.py -p lava-gcc 6/info.yaml
  dependencies:
    - build:gcc
  only:
    - master
    - dev

test_solutions:7:14:gcc:
  variables:
    COMP_ID: "7"
    PREFIX: "lava-gcc"
  extends: .test_solutions
  script:
    - tar -C 7 -xzf 7/solutions.tgz
    - (cd 7 && ./patch_solutions.sh )
    - ./scripts/test-solution.py -p lava-gcc 7/info.yaml
  dependencies:
    - build:gcc
  only:
    - master
    - dev

test_solutions:8:14:gcc:
  variables:
    COMP_ID: "8"
    PREFIX: "lava-gcc"
  extends: .test_solutions
  script:
    - tar -C 8 -xzf 8/solutions.tgz
    - (cd 8 && ./patch_solutions.sh )
    - ./scripts/test-solution.py -p lava-gcc 8/info.yaml
  dependencies:
    - build:gcc
  only:
    - master
    - dev

test_solutions:9:14:gcc:
  variables:
    COMP_ID: "9"
    PREFIX: "lava-gcc"
  extends: .test_solutions
  dependencies:
    - build:gcc
  only:
    - master
    - dev

test_solutions:10:14:gcc:
  variables:
    COMP_ID: "10"
    PREFIX: "lava-gcc"
  extends: .test_solutions
  script:
    - tar -C 10 -xzf 10/solutions.tgz
    - (cd 10 && ./patch_solutions.sh )
    - ./scripts/test-solution.py -p lava-gcc 10/info.yaml
  dependencies:
    - build:gcc
  only:
    - master
    - dev

test_solutions:11:14:gcc:
  variables:
    COMP_ID: "11"
    PREFIX: "lava-gcc"
  extends: .test_solutions
  dependencies:
    - build:gcc
  only:
    - master
    - dev

test_solutions:12:14:gcc:
  variables:
    COMP_ID: "12"
    PREFIX: "lava-gcc"
  extends: .test_solutions
  dependencies:
    - build:gcc
  only:
    - master
    - dev

test_solutions:13:14:gcc:
  variables:
    COMP_ID: "13"
    PREFIX: "lava-gcc"
  extends: .test_solutions
  dependencies:
    - build:gcc
  only:
    - master
    - dev

test_solutions:14:14:gcc:
  variables:
    COMP_ID: "14"
    PREFIX: "lava-gcc"
  extends: .test_solutions
  dependencies:
    - build:gcc
  only:
    - master
    - dev
